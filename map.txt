Quick Bite. 

|| Brainstorming
change purpose of app? get ip, city, top 5 restaurants without directions

get user's geolocation (lat/long)
   potentially serve HTML file and ask user to allow geolocation
   wifi trilateration (determine device location based on its distance from several WiFi access points)
OR 
   ask user to manually enter their address, and check for errors

seeder to populate DB with restaurants/ use Yelp or other API 

SQL query for 5 closest restaurants 

Print restaurant names to terminal, user has option to select one or esc

Google Maps walking directions listed for restaurants if close (30min walking?)
   if no restaurants in walking distance, print err 
   or if <5 are within walking distance

   list restaurants, give directions to restaurant 
quickbite
   [1,2,3,4,5, esc]
quickbite 1 (2 | 3 | 4 | 5)
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Original plan isn't efficient- difficulty of determining user's exact address to provide walking directions,
also doesn't really seem like the best use case for a CLI

What would be useful and make sense?


Donation app
  Pick from list of charities to donate to that are devoted to ending hunger
  Get geolocation and show local food pantries to volunteer at (food banks on Google)
     Rough approximation then allow user to override it via input

Fitness tracker
  count calories
  set reminders, calendar alerts
  
Tell you how healthy something is?
  Choose from list of options
  Count calories, give percentages
  Enter height/ weight/ etc and say this is X amount of what you need for today

Something with geolocation
  Inaccurate, so just find out city/ state
  Healthiest restaurants in the city

Simple recipes app
  Give simple, cheap, healthy recipes to users
  Ask what they're in the mood for, or wildcard
  less than 10 steps? less than X USD?

Compare what's healthier?
  Pizza vs kale, kale vs oranges

Build a burger (or pizza or salad)

Or, try to use different method of geolocation (wifi, html5) other than ip for original idea





options, flags?
--help cannot be overridden

sound effects?
animations?


best practices 
https://github.com/lirantal/nodejs-cli-apps-best-practices
package node into executable 
https://github.com/vercel/pkg
register and upload with npm
https://docs.npmjs.com/cli/v8/configuring-npm/package-json


communicate with DB
nice design
helpful menus
clean error messages and outputs
loading indicators and progress bars







Design inspo
https://bit.ly/3y69QpN
https://bit.ly/3puJytq



|| Notes
node WifiScanner, (mac airpot, linux iwlist, windows netsh)
  give credit to all projects

>I can't believe it works... I was disheartened when IP wasn't giving my true geolocation,
and thought doing something odd with HTML5 through a browser would defeat my exercise
in using NodeJS to get location. But I wondered how Google Maps gets my true location online,
found out they use WiFi trilateration, and easily implemented it 


README inspo
https://github.com/mattplichtawild/cli-animal-toy-browser
https://www.npmjs.com/package/uber-cli


Reverse geocoding (address lookup)

Err handling for getAddress, node-fetch, try catch vs Promise.catch
  solved: another catch directly following 'then' calls after calling fetch
 

                                                                                            yes: rl.close()
                                                                                          /
                    yes: rl.close()           valid address: format and ask user to confirm -- no: go back and reprompt for address
                  /                         /
  Address detected -- no: prompt for address 
                  

street address validation: gotchas 


Give Google Maps credit in README

Problem: need inquirer to reprompt if user enters invalid input
        synchronous for loop, async await inquirer not working- the sync loop just blows through
        getting promise/callback to work inside switch case, with a loop (continuously prompt user until valid address submitted)
        trying wrapping switch-case with async function, each promise block as own function, putting in own module for readability
          keeping track of state- how deep in inquirer we are, user input address, y/n confirmation, final return value of valid address
      
        !! not working- trying other solution from stackoverflow, create inquirer submenus as own module, main as own module, call in each other instead of using switch-case
           any of the inquirer modules can be called from anywhere
        (prompts as separate functions that call each other, instead of while or for loops or switch-case)

        ERROR: OUTPUT IS SAME FORMATTED ADDRESS, REGARDLESS OF INPUT
          solution: passing value of wrong function (yes confirmation instead of address to be validated)


problem: I want to display start img, wait for user to press space, then start program
   keypress module preventing arrow key detection for selections Inquirer options  
     put into own module separate from listr, thinking it might isolate that effects

     program holds but pressing space does nothing
     thought of new approach - handle logic with Inquirer, readline, or another module
     let i = 0, on pressing space set i = 1, while loop inside exported function to detect i === 1

      trying three solutions: readline module, custom keypress, keypress module 
      not waiting, not logging anything, continuing to log once program starts, program not waiting to start
      Solved: use readline, close() inside Promise, export variable awaiting the resolved promise
      

problem: textsearch returning restaurants out of bounds
  try limiting range, if that doesn't work try other API method
  nearbySearch: need to catch and save lat/lng in earlier modules


PROBLEM: nearbySearch does not sort by distance 
    docs: radius param doesn't- use rankby=distance returns results in ascending order


PROBLEM: fetch request returns data but not line-by-line text directions 
  potential solutions: somehow turn json into line-by line directions
                        try Node library
                        start a server, serve data, scrape line-by-line directions
                          may have read somewhere Google Maps forces users to display a map, may be true and that would break ToS?
                        entire JSON wasn't logged- checking json.routes[0].legs[0] = success!

question- would users rather have directions given in feet or minutes, or both? or neither?

error: chooseRestaurant -> select 'Quit', still continues to viewSaveSend
      remembered past error, checked answer -> missing name, answer.restDirs

bug: selecting one restaurant then immediately returning to chooseRestaurant works,
    but after viewing (or saving, if file already exists) 
       returns "cannot read properties of undefined (reading 'length')  | let resLength = restaurants.length"
    restaurants object getting lost?
        viewDirs doesn't get receive {restaurants}, saveFile doesn't pass {restaurants} back on error


design: instead of paying for SMS gateway, get list of most common SMS providers that capture 90%+ of the US market
   and have user select their provider

